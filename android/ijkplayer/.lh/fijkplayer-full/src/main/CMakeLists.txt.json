{
    "sourceFile": "fijkplayer-full/src/main/CMakeLists.txt",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1686036560294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1686036560294,
            "name": "Commit-0",
            "content": "#\n# Copyright (c) 2019 befovy <befovy@gmail.com>\n#\n# This file is part of fijkPlayer.\n#\n# fijkPlayer is free software; you can redistribute it and/or\n# modify it under the terms of the GNU Lesser General Public\n# License as published by the Free Software Foundation; either\n# version 2.1 of the License, or (at your option) any later version.\n#\n# fijkPlayer is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n# Lesser General Public License for more details.\n#\n# You should have received a copy of the GNU Lesser General Public\n# License along with ijkPlayer; if not, write to the Free Software\n# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA\n#\n\ncmake_minimum_required(VERSION 3.6)\n\nproject(\"FijkPlayer\")\n\nset(CMAKE_C_STANDARD 11)\nset(CMAKE_CXX_STANDARD 11)\n\nadd_definitions(-DANDROID)\n\nmessage(STATUS \"CMAKE_BUILD_TYPE: ${CMAKE_BUILD_TYPE}\")\nmessage(STATUS \"ANDROID_PLATFORM_LEVEL:${ANDROID_PLATFORM_LEVEL}\")\nmessage(STATUS \"ANDROID_ABI:${ANDROID_ABI}\")\nmessage(STATUS \"PROJECT_SOURCE_DIR ${PROJECT_SOURCE_DIR}\")\n\nset(FIJKROOT_PATH \"${PROJECT_SOURCE_DIR}/../../../../..\")\nget_filename_component(FIJKROOT_PATH ${FIJKROOT_PATH} ABSOLUTE)\nmessage(STATUS \"FIJKROOT_PATH ${FIJKROOT_PATH}\")\n\n\nif (${CMAKE_BUILD_TYPE} STREQUAL \"Release\")\n    add_definitions(-DNDEBUG)\nelseif (${CMAKE_BUILD_TYPE} STREQUAL \"Debug\")\n    add_definitions(-DDEBUG)\nendif ()\n\nadd_compile_options(\"-Wno-deprecated-declarations\")\nset(CMAKE_POSITION_INDEPENDENT_CODE ON)\n\nset(ANDROID_CONTRIB_PATH ${FIJKROOT_PATH}/android/contrib/build)\nmessage(STATUS \"ANDROID_CONTRIB_PATH:${ANDROID_CONTRIB_PATH}\")\n\nif (${ANDROID_ABI} STREQUAL \"arm64-v8a\")\n    set(IJK_FFMPAG_BUILD_DIR ${ANDROID_CONTRIB_PATH}/output-arm64)\nelseif (${ANDROID_ABI} STREQUAL \"armeabi-v7a\")\n    set(IJK_FFMPAG_BUILD_DIR ${ANDROID_CONTRIB_PATH}/output-armv7a)\nelseif (${ANDROID_ABI} STREQUAL \"armeabi\")\n    set(IJK_FFMPAG_BUILD_DIR ${ANDROID_CONTRIB_PATH}/output-armv5)\nelseif (${ANDROID_ABI} STREQUAL \"x86\")\n    set(IJK_FFMPAG_BUILD_DIR ${ANDROID_CONTRIB_PATH}/output-x86)\nelseif (${ANDROID_ABI} STREQUAL \"x86_64\")\n    set(IJK_FFMPAG_BUILD_DIR ${ANDROID_CONTRIB_PATH}/output-x86_64)\nendif ()\n\nif (NOT DEFINED IJK_FFMPAG_BUILD_DIR)\n    message(FATAL_ERROR \"Can not find ffmpeg build output: ${IJK_FFMPAG_BUILD_DIR}\")\nelse ()\n    message(STATUS \"IJK_FFMPAG_BUILD_DIR:${IJK_FFMPAG_BUILD_DIR}\")\nendif ()\n\nmessage(STATUS \"DHG :${FIJKROOT_PATH}\")\nadd_library(c++_shared SHARED IMPORTED)\nset_target_properties( # Specifies the target library.\n        c++_shared\n        PROPERTIES\n        IMPORTED_LOCATION ${FIJKROOT_PATH}/android/ijkplayer/ijkplayer_arm64/src/main/libs/arm64-v8a/libc++_shared.so\n        )\nadd_custom_target(cpc++_shared\n        COMMAND mkdir -p ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}\n        COMMAND cp ${FIJKROOT_PATH}/android/ijkplayer/ijkplayer_arm64/src/main/libs/arm64-v8a/libc++_shared.so ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}\n    )\n    \n    add_dependencies(c++_shared cpc++_shared)  \n\nadd_library(ijkffmpeg SHARED IMPORTED)\nset_target_properties( # Specifies the target library.\n    ijkffmpeg\n    PROPERTIES\n    IMPORTED_LOCATION ${IJK_FFMPAG_BUILD_DIR}/libijkffmpeg.so\n)\n\nadd_custom_target(cpffmpeg\n  #  COMMAND mkdir -p ${CMAKE_LIBRARY_OUTPUT_DIRECTORY} 上面已经创建了\n    COMMAND cp ${IJK_FFMPAG_BUILD_DIR}/libijkffmpeg.so ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}\n)\n\nadd_dependencies(ijkffmpeg cpffmpeg)\n\nmessage(STATUE \"${CMAKE_LIBRARY_OUTPUT_DIRECTORY} ${PROJECT_BINARY_DIR}\")\nadd_subdirectory(${FIJKROOT_PATH}/ijkmedia ijkmedia)\n"
        }
    ]
}